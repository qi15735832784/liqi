# ä¸‰å‰‘å®¢

# grep

~~~shell
  -E, --extended-regexp     PATTERNS are extended regular expressions
  -F, --fixed-strings       PATTERNS are strings
  -G, --basic-regexp        PATTERNS are basic regular expressions
  -P, --perl-regexp         PATTERNS are Perl regular expressions
  -e, --regexp=PATTERNS     use PATTERNS for matching
  -f, --file=FILE           take PATTERNS from FILE
  -i, --ignore-case         ignore case distinctions in patterns and data
      --no-ignore-case      do not ignore case distinctions (default)
  -w, --word-regexp         match only whole words
  -x, --line-regexp         match only whole lines
  -z, --null-data           a data line ends in 0 byte, not newline

Miscellaneous:
  -s, --no-messages         suppress error messages
  -v, --invert-match        select non-matching lines
  -V, --version             display version information and exit
      --help                display this help text and exit

Output control:
  -m, --max-count=NUM       stop after NUM selected lines
  -b, --byte-offset         print the byte offset with output lines
  -n, --line-number         print line number with output lines
      --line-buffered       flush output on every line
  -H, --with-filename       print file name with output lines
  -h, --no-filename         suppress the file name prefix on output
      --label=LABEL         use LABEL as the standard input file name prefix
  -o, --only-matching       show only nonempty parts of lines that match
  -q, --quiet, --silent     suppress all normal output
      --binary-files=TYPE   assume that binary files are TYPE;
                            TYPE is 'binary', 'text', or 'without-match'
  -a, --text                equivalent to --binary-files=text
  -I                        equivalent to --binary-files=without-match
  -d, --directories=ACTION  how to handle directories;
                            ACTION is 'read', 'recurse', or 'skip'
  -D, --devices=ACTION      how to handle devices, FIFOs and sockets;
                            ACTION is 'read' or 'skip'
  -r, --recursive           like --directories=recurse
  -R, --dereference-recursive
                            likewise, but follow all symlinks
      --include=GLOB        search only files that match GLOB (a file pattern)
      --exclude=GLOB        skip files that match GLOB
      --exclude-from=FILE   skip files that match any file pattern from FILE
      --exclude-dir=GLOB    skip directories that match GLOB
  -L, --files-without-match print only names of FILEs with no selected lines
  -l, --files-with-matches  print only names of FILEs with selected lines
  -c, --count               print only a count of selected lines per FILE
  -T, --initial-tab         make tabs line up (if needed)
  -Z, --null                print 0 byte after FILE name

Context control:
  -B, --before-context=NUM  print NUM lines of leading context
  -A, --after-context=NUM   print NUM lines of trailing context
  -C, --context=NUM         print NUM lines of output context
  -NUM                      same as --context=NUM
      --group-separator=SEP use SEP as a group separator
      --no-group-separator  use empty string as a group separator
      --color[=WHEN],
      --colour[=WHEN]       use markers to highlight the matching strings;
                            WHEN is 'always', 'never', or 'auto'
  -U, --binary              do not strip CR characters at EOL (MSDOS/Windows)
~~~

## è¡¨æ ¼å½¢å¼

| å‚æ•° |        ä½œç”¨        |              è¯´æ˜               |
| :--: | :----------------: | :-----------------------------: |
| `-n` |      æ˜¾ç¤ºè¡Œå·      | è¾“å‡ºåŒ¹é…è¡Œæ—¶ï¼Œåœ¨å‰é¢æ˜¾ç¤ºè¡Œå·ã€‚  |
| `-i` |     å¿½ç•¥å¤§å°å†™     |    å¿½ç•¥åŒ¹é…æ—¶çš„å¤§å°å†™å·®å¼‚ã€‚     |
| `-v` |      åå‘åŒ¹é…      |      æ˜¾ç¤º**ä¸**åŒ¹é…çš„è¡Œã€‚       |
| `-A` |   æ˜¾ç¤ºåŒ¹é…åå‡ è¡Œ   |   æ˜¾ç¤ºåŒ¹é…è¡Œåé¢çš„ **N** è¡Œã€‚   |
| `-B` |   æ˜¾ç¤ºåŒ¹é…å‰å‡ è¡Œ   |   æ˜¾ç¤ºåŒ¹é…è¡Œå‰é¢çš„ **N** è¡Œã€‚   |
| `-C` |  æ˜¾ç¤ºåŒ¹é…å‰åå‡ è¡Œ  | åŒæ—¶æ˜¾ç¤ºåŒ¹é…è¡Œå‰åå„ **N** è¡Œã€‚ |
| `-E` | ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ | ä½¿ç”¨æ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ã€‚  |

## âœ… **1. `-n` æ˜¾ç¤ºè¡Œå·**

```shell
grep -n "error" logfile.txt
```

**è§£é‡Š**ï¼š

- æŸ¥æ‰¾ `logfile.txt` ä¸­åŒ…å« `"error"` çš„è¡Œã€‚
- åœ¨è¾“å‡ºç»“æœä¸­ï¼Œæ¯è¡Œéƒ½ä¼šæ˜¾ç¤ºè¡Œå·ã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
12:error occurred while starting service
45:critical error: unable to connect
```

------

## âœ… **2. `-i` å¿½ç•¥å¤§å°å†™**

```shell
grep -i "error" logfile.txt
```

**è§£é‡Š**ï¼š

- å¿½ç•¥å¤§å°å†™ï¼ŒåŒ¹é… `"error"`ã€`"Error"`ã€`"ERROR"` ç­‰ã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
error detected in log file
Error: unable to read config
```

------

## âœ… **3. `-v` åå‘åŒ¹é…**

```shell
grep -v "error" logfile.txt
```

**è§£é‡Š**ï¼š

- åªæ˜¾ç¤º**ä¸åŒ…å«** `"error"` çš„è¡Œã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
Service started successfully
Configuration loaded
```

------

## âœ… **4. `-A` æ˜¾ç¤ºåŒ¹é…åå‡ è¡Œ**

```shell
grep -A 3 "error" logfile.txt
```

**è§£é‡Š**ï¼š

- æ˜¾ç¤ºåŒ¹é…è¡Œä»¥åŠå®ƒåé¢çš„ **3** è¡Œã€‚
- å¸¸ç”¨äºåˆ†ææ—¥å¿—ä¸Šä¸‹æ–‡ï¼ŒæŸ¥çœ‹é”™è¯¯åçš„ç›¸å…³ä¿¡æ¯ã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
Error: Failed to connect
Retrying connection...
Attempting reconnect...
Connection successful
```

------

## âœ… **5. `-B` æ˜¾ç¤ºåŒ¹é…å‰å‡ è¡Œ**

```shell
grep -B 2 "error" logfile.txt
```

**è§£é‡Š**ï¼š

- æ˜¾ç¤ºåŒ¹é…è¡Œä»¥åŠå®ƒå‰é¢çš„ **2** è¡Œã€‚
- ç”¨äºæŸ¥æ‰¾é”™è¯¯å‘ç”Ÿå‰çš„ç›¸å…³ä¿¡æ¯ã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
Trying to establish a connection
Received no response from server
Error: Connection timeout
```

------

## âœ… **6. `-C` æ˜¾ç¤ºåŒ¹é…å‰åå‡ è¡Œ**

```shell
grep -C 2 "error" logfile.txt
```

**è§£é‡Š**ï¼š

- æ˜¾ç¤ºåŒ¹é…è¡Œä»¥åŠå®ƒå‰åå„ **2** è¡Œã€‚
- ç­‰åŒäº `-A 2 -B 2`ã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
Connecting to database
Waiting for response
Error: Database connection failed
Retrying connection
Connection successful
```

------

## âœ… **7. `-E` ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼**

```shell
grep -E "error|fail|warning" logfile.txt
```

**è§£é‡Š**ï¼š

- ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼ï¼ˆEREï¼‰è¿›è¡ŒåŒ¹é…ã€‚
- ä½¿ç”¨ `|` è¡¨ç¤º**æˆ–**ï¼ŒåŒ¹é… `"error"`ã€`"fail"` æˆ– `"warning"`ã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
System error detected
Login failed due to incorrect password
Warning: Low disk space
```

------

## âœ… **ç»„åˆä½¿ç”¨ç¤ºä¾‹**

ä½ è¿˜å¯ä»¥ç»„åˆè¿™äº›å‚æ•°è¿›è¡Œå¤æ‚çš„æŸ¥è¯¢ã€‚

### ğŸ“Œ **æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯ï¼ŒåŒæ—¶æ˜¾ç¤ºä¸Šä¸‹æ–‡ï¼Œå¹¶å¿½ç•¥å¤§å°å†™**

```shell
grep -i -C 3 "error" logfile.txt
```

**è§£é‡Š**ï¼š

- å¿½ç•¥å¤§å°å†™åŒ¹é… `"error"`ã€‚
- æ˜¾ç¤ºä¸Šä¸‹å„ **3** è¡Œã€‚

------

### ğŸ“Œ **æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯ï¼ŒåŒæ—¶æ’é™¤ä¸æƒ³è¦çš„æ–‡ä»¶å†…å®¹**

```shell
grep -E -v "debug|info" logfile.txt
```

**è§£é‡Š**ï¼š

- ä½¿ç”¨æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… `"debug"` æˆ– `"info"`ã€‚
- ä½¿ç”¨ `-v` åªæ˜¾ç¤ºä¸åŒ…å«è¿™äº›å…³é”®å­—çš„è¡Œã€‚

------

### ğŸ“Œ **ç»Ÿè®¡åŒ…å«é”™è¯¯çš„è¡Œæ•°**

```shell
grep -i -c "error" logfile.txt
```

**è§£é‡Š**ï¼š

- `-i`ï¼šå¿½ç•¥å¤§å°å†™ã€‚
- `-c`ï¼šè¾“å‡ºåŒ¹é…è¡Œçš„æ•°é‡ã€‚

**ç¤ºä¾‹è¾“å‡º**ï¼š

```shell
23
```

è¡¨ç¤ºæœ‰ **23** è¡ŒåŒ…å« `"error"`ã€‚

---

# sed

## âœ… **1. åŒ¹é…è¡Œ**

|        åŒ¹é…è¡Œ         |                   è¯´æ˜                    | ç¤ºä¾‹                                                         |
| :-------------------: | :---------------------------------------: | ------------------------------------------------------------ |
|       `number`        |        æŒ‰è¡Œå·åŒ¹é…ï¼ŒæŒ‡å®šå…·ä½“çš„è¡Œå·         | `sed '3p' file.txt` â†’ æ‰“å°ç¬¬3è¡Œ                              |
|      `/regexp/`       |    æŒ‰æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ŒåŒ¹é…ç¬¦åˆæ­£åˆ™çš„è¡Œ     | `sed '/error/p' file.txt` â†’ æ‰“å°åŒ…å« `error` çš„è¡Œ            |
|          `$`          |               åŒ¹é…æœ€åä¸€è¡Œ                | `sed '$p' file.txt` â†’ æ‰“å°æœ€åä¸€è¡Œ                           |
|     `add1,addr2`      |              åŒ¹é…æŒ‡å®šè¡ŒèŒƒå›´               | `sed '3,5p' file.txt` â†’ æ‰“å°ç¬¬3åˆ°5è¡Œ                         |
|      `addr1,+N`       |          ä»æŸè¡Œå¼€å§‹ï¼Œå‘ä¸‹åŒ¹é…Nè¡Œ          | `sed '3,+2p' file.txt` â†’ æ‰“å°ç¬¬3è¡Œå¼€å§‹çš„3è¡Œ                  |
|     `first~step`      | ä» `first` è¡Œå¼€å§‹ï¼Œæ¯éš” `step` è¡Œæ‰“å°ä¸€æ¬¡ | `sed '1~3p' file.txt` â†’ ä»ç¬¬1è¡Œå¼€å§‹ï¼Œæ¯éš”3è¡Œæ‰“å°ä¸€æ¬¡         |
|   `/regexp/,addr2`    | ä»åŒ¹é… `regexp` å¼€å§‹ï¼Œåˆ° `addr2` ç»“æŸçš„è¡Œ | `sed '/start/,/end/p' file.txt` â†’ æ‰“å°ä» `start` åˆ° `end` ä¹‹é—´çš„è¡Œ |
| `/regexp1/,/regexp2/` |        åŒ¹é…ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¹‹é—´çš„è¡Œ         | `sed '/start/,/end/p' file.txt` â†’ æ‰“å° `start` åˆ° `end` ä¹‹é—´çš„è¡Œ |

`sed` ä½¿ç”¨ **åœ°å€** æ¥æŒ‡å®šå“ªäº›è¡Œéœ€è¦è¢«å¤„ç†ã€‚åœ°å€å¯ä»¥æ˜¯ï¼š

- **è¡Œå·**
- **æ­£åˆ™è¡¨è¾¾å¼**
- **ç»„åˆçš„åœ°å€**
- **æ­¥è¿›é€‰æ‹©**

------

### ğŸ“Œ **(1) ä½¿ç”¨è¡Œå·åŒ¹é…**

```shell
sed '3p' file.txt
```

**è§£é‡Š**ï¼š

- **`3p`**ï¼šæ‰“å°ç¬¬ **3** è¡Œã€‚

------

### ğŸ“Œ **(2) ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…**

```shell
sed '/error/p' file.txt
```

**è§£é‡Š**ï¼š

- `/error/`ï¼šåŒ¹é…åŒ…å« `"error"` çš„è¡Œã€‚
- `p`ï¼šæ‰“å°åŒ¹é…çš„è¡Œã€‚

------

### ğŸ“Œ **(3) åŒ¹é…æ–‡ä»¶æœ€åä¸€è¡Œ**

```shell
sed '$p' file.txt
```

**è§£é‡Š**ï¼š

- `$`ï¼šåŒ¹é…æ–‡ä»¶çš„æœ€åä¸€è¡Œã€‚
- `p`ï¼šæ‰“å°å®ƒã€‚

------

### ğŸ“Œ **(4) ä½¿ç”¨èŒƒå›´åŒ¹é…**

```shell
sed '5,10p' file.txt
```

**è§£é‡Š**ï¼š

- **5,10**ï¼šåŒ¹é…ä»ç¬¬ **5** è¡Œåˆ°ç¬¬ **10** è¡Œã€‚
- `p`ï¼šæ‰“å°è¿™äº›è¡Œã€‚

------

### ğŸ“Œ **(5) ä½¿ç”¨ç›¸å¯¹è¡ŒåŒ¹é…**

```shell
sed '5,+3p' file.txt
```

**è§£é‡Š**ï¼š

- **5,+3**ï¼šä»ç¬¬ **5** è¡Œå¼€å§‹ï¼Œå‘ä¸‹åŒ¹é… **3** è¡Œã€‚
- `p`ï¼šæ‰“å°å®ƒä»¬ã€‚

------

### ğŸ“Œ **(6) ä½¿ç”¨æ­¥è¿›åŒ¹é…**

```shell
sed '1~3p' file.txt
```

**è§£é‡Š**ï¼š

- **1~3**ï¼šä»ç¬¬ **1** è¡Œå¼€å§‹ï¼Œæ¯éš” **3** è¡Œæ‰“å°ä¸€æ¬¡ã€‚
- `p`ï¼šæ‰“å°åŒ¹é…çš„è¡Œã€‚

------

### ğŸ“Œ **(7) ä½¿ç”¨ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…**

```shell
sed '/start/,/end/p' file.txt
```

**è§£é‡Š**ï¼š

- **/start/** åˆ° **/end/** ä¹‹é—´çš„æ‰€æœ‰è¡Œéƒ½ä¼šè¢«æ‰“å°ã€‚

---

## âœ… **2. è¡Œä¸º**

**è¡Œä¸º**æ˜¯å¯¹åŒ¹é…çš„è¡Œæ‰§è¡Œçš„æ“ä½œã€‚

| è¡Œä¸º |               è¯´æ˜               | ç¤ºä¾‹                                                         |
| :--: | :------------------------------: | ------------------------------------------------------------ |
| `p`  |           æ‰“å°åŒ¹é…çš„è¡Œ           | `sed -n '/error/p' file.txt` â†’ æ‰“å°åŒ…å« `error` çš„è¡Œ         |
| `s`  |             æ›¿æ¢æ–‡æœ¬             | `sed 's/old/new/g' file.txt`â†’å°†æ‰€æœ‰ `old` æ›¿æ¢ä¸º `new`       |
| `d`  |           åˆ é™¤åŒ¹é…çš„è¡Œ           | `sed '/error/d' file.txt` â†’ åˆ é™¤åŒ…å« `error` çš„è¡Œ            |
| `y`  |        è½¬æ¢å­—ç¬¦ï¼ˆå­—ç¬¦å¯¹ï¼‰        | `sed 'y/abc/xyz/' file.txt` â†’ å°† `a` è½¬æ¢ä¸º `x`ï¼Œ`b` è½¬æ¢ä¸º `y`ï¼Œ`c` è½¬æ¢ä¸º `z` |
| `i`  |        åœ¨åŒ¹é…è¡Œå‰æ’å…¥æ–‡æœ¬        | `sed '/error/i\Inserted text' file.txt` â†’ åœ¨ `error` è¡Œå‰æ’å…¥ `"Inserted text"` |
| `a`  |        åœ¨åŒ¹é…è¡Œåè¿½åŠ æ–‡æœ¬        | `sed '/error/a\Appended text' file.txt` â†’ åœ¨ `error` è¡Œåè¿½åŠ  `"Appended text"` |
| `c`  |         æ›¿æ¢åŒ¹é…è¡Œçš„æ•´è¡Œ         | `sed '/error/c\Replaced line' file.txt` â†’ æ›¿æ¢åŒ…å« `error` çš„è¡Œ |
| `r`  | è¯»å–å¹¶æ’å…¥æ–‡ä»¶å†…å®¹ï¼ˆæŒ‡å®šçš„æ–‡ä»¶ï¼‰ | `sed '/error/r additional.txt' file.txt` â†’ åœ¨ `error` è¡Œåæ’å…¥ `additional.txt` æ–‡ä»¶å†…å®¹ |
| `w`  |      å°†åŒ¹é…çš„è¡Œå†™å…¥æŒ‡å®šæ–‡ä»¶      | `sed '/error/w output.txt' file.txt` â†’ å°†åŒ¹é… `error` çš„è¡Œå†™å…¥ `output.txt` |
| `e`  |         æ‰§è¡Œå¤šä¸ªç¼–è¾‘å‘½ä»¤         | `sed -e 's/foo/bar/g' -e 's/hello/world/g' file.txt` â†’ æ‰§è¡Œä¸¤ä¸ªæ›¿æ¢å‘½ä»¤ï¼šå°† `foo` æ›¿æ¢ä¸º `bar`ï¼Œ`hello` æ›¿æ¢ä¸º `world` |



---

## âœ… **3. ä¿®é¥°è¡Œä¸º**

ä¿®é¥°è¡Œä¸ºè¿›ä¸€æ­¥è°ƒæ•´æ“ä½œçš„æ‰§è¡Œæ–¹å¼ã€‚

| ä¿®é¥°è¡Œä¸º |                ä½œç”¨                | ç¤ºä¾‹                                                         |
| :------: | :--------------------------------: | ------------------------------------------------------------ |
|   `g`    | å…¨å±€æ›¿æ¢ï¼Œæ›¿æ¢æ¯ä¸€è¡Œä¸­çš„æ‰€æœ‰åŒ¹é…é¡¹ | `sed 's/old/new/g' file.txt` â†’ æ›¿æ¢æ¯ä¸€è¡Œä¸­çš„æ‰€æœ‰ `old` ä¸º `new` |
|   `-n`   |  ä¸è‡ªåŠ¨æ‰“å°æ‰€æœ‰è¡Œï¼Œåªæ‰“å°æŒ‡å®šçš„è¡Œ  | ``sed -n '/error/p' file.txt` â†’ åªæ‰“å°åŒ…å« `error` çš„è¡Œ      |
|   `-i`   |   ç›´æ¥ä¿®æ”¹æ–‡ä»¶ï¼Œè€Œä¸æ˜¯è¾“å‡ºåˆ°ç»ˆç«¯   | ``sed -i 's/old/new/g' file.txt` â†’ å°† `old` æ›¿æ¢ä¸º `new`ï¼Œå¹¶ç›´æ¥ä¿®æ”¹æ–‡ä»¶ |

---

## ğŸ“˜ **è¯¦ç»†ç¤ºä¾‹**

### âœ… **1. æ‰“å°ç‰¹å®šè¡Œ**

#### ğŸ“Œ **æ‰“å°ç¬¬ 5 åˆ° 10 è¡Œ**

```shell
sed -n '5,10p' file.txt
```

**è§£é‡Š**ï¼š

- **`-n`**ï¼šå…³é—­è‡ªåŠ¨æ‰“å°ã€‚
- **`5,10p`**ï¼šæ‰“å°ä»ç¬¬ **5** è¡Œåˆ°ç¬¬ **10** è¡Œã€‚

------

### âœ… **2. æ›¿æ¢æ–‡æœ¬**

#### ğŸ“Œ **æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹**

```shell
sed 's/error/success/' file.txt
```

**è§£é‡Š**ï¼š

- `s`ï¼šæ‰§è¡Œæ›¿æ¢ã€‚
- `error` æ›¿æ¢ä¸º `success`ï¼Œä»…æ›¿æ¢æ¯è¡Œç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚

------

#### ğŸ“Œ **æ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹**

```shell
sed 's/error/success/g' file.txt
```

**è§£é‡Š**ï¼š

- `g`ï¼šå…¨å±€æ›¿æ¢ï¼Œæ›¿æ¢æ¯ä¸€è¡Œä¸­çš„æ‰€æœ‰åŒ¹é…é¡¹ã€‚

------

### âœ… **3. åˆ é™¤æ–‡æœ¬**

#### ğŸ“Œ **åˆ é™¤åŒ…å«ç‰¹å®šæ–‡æœ¬çš„è¡Œ**

```sjell
sed '/error/d' file.txt
```

**è§£é‡Š**ï¼š

- `/error/` åŒ¹é…åŒ…å« `"error"` çš„è¡Œã€‚
- `d` åˆ é™¤åŒ¹é…è¡Œã€‚

------

#### ğŸ“Œ **åˆ é™¤ç¬¬ 3 åˆ° 7 è¡Œ**

```shell
sed '3,7d' file.txt
```

**è§£é‡Š**ï¼š

- åˆ é™¤ä»ç¬¬ **3** è¡Œåˆ°ç¬¬ **7** è¡Œçš„æ‰€æœ‰å†…å®¹ã€‚

------

### âœ… **4. å­—ç¬¦è½¬æ¢**

#### ğŸ“Œ **è½¬æ¢å­—ç¬¦**

```shell
sed 'y/abc/xyz/' file.txt
```

**è§£é‡Š**ï¼š

- `y`ï¼šå°† `a` è½¬æ¢ä¸º `x`ï¼Œ`b` è½¬æ¢ä¸º `y`ï¼Œ`c` è½¬æ¢ä¸º `z`ã€‚

------

### âœ… **5. æ’å…¥å’Œè¿½åŠ **

#### ğŸ“Œ **åœ¨åŒ¹é…è¡Œå‰æ’å…¥å†…å®¹**

```shell
sed '/error/i\This is an inserted line.' file.txt
```

**è§£é‡Š**ï¼š

- `i`ï¼šåœ¨åŒ¹é… `"error"` çš„è¡Œå‰æ’å…¥æ–‡æœ¬ã€‚

------

#### ğŸ“Œ **åœ¨åŒ¹é…è¡Œåè¿½åŠ å†…å®¹**

```shell
sed '/error/a\This is an appended line.' file.txt
```

**è§£é‡Š**ï¼š

- `a`ï¼šåœ¨åŒ¹é… `"error"` çš„è¡Œåè¿½åŠ æ–‡æœ¬ã€‚

------

### âœ… **6. æ›¿æ¢æ•´è¡Œ**

#### ğŸ“Œ **æ›¿æ¢åŒ…å«ç‰¹å®šæ–‡æœ¬çš„æ•´è¡Œ**

```shell
sed '/error/c\This line has been replaced.' file.txt
```

**è§£é‡Š**ï¼š

- `c`ï¼šå°†åŒ¹é…çš„æ•´è¡Œæ›¿æ¢ä¸º `"This line has been replaced."`ã€‚

------

### âœ… **7. è¯»å–å’Œå†™å…¥æ–‡ä»¶**

#### ğŸ“Œ **è¯»å–æ–‡ä»¶å†…å®¹å¹¶æ’å…¥**

```shell
sed '/error/r additional.txt' file.txt
```

**è§£é‡Š**ï¼š

- `r`ï¼šåœ¨åŒ¹é… `"error"` çš„è¡Œåæ’å…¥ `additional.txt` çš„å†…å®¹ã€‚

------

#### ğŸ“Œ **å°†åŒ¹é…çš„è¡Œå†™å…¥æ–°æ–‡ä»¶**

```shell
sed -n '/error/w output.txt' file.txt
```

**è§£é‡Š**ï¼š

- `w`ï¼šå°†åŒ¹é… `"error"` çš„è¡Œå†™å…¥ `output.txt`ã€‚

------

### âœ… **æ€»ç»“**

- **æ‰“å°**ï¼š`sed -n '/pattern/p' file.txt`
- **æ›¿æ¢**ï¼š`sed 's/old/new/g' file.txt`
- **åˆ é™¤**ï¼š`sed '/pattern/d' file.txt`
- **æ’å…¥**ï¼š`sed '/pattern/i\ Inserted text' file.txt`
- **è¿½åŠ **ï¼š`sed '/pattern/a\ Appended text' file.txt`
- **æ›¿æ¢æ•´è¡Œ**ï¼š`sed '/pattern/c\ Replaced text' file.txt`
- **è¯»å–æ–‡ä»¶**ï¼š`sed '/pattern/r file.txt'`
- **å†™å…¥æ–‡ä»¶**ï¼š`sed -n '/pattern/w output.txt' file.txt`

